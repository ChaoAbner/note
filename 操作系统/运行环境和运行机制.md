## 运行环境和运行机制

![1583838791428](F:\typoraImg\1583838791428.png)

## 进程/线程模型

### 进程

操作系统给每个进程都分配了地址空间。

#### **多道程序设计**

![1583839144688](F:\typoraImg\1583839144688.png)

#### **定义**

![1583839222667](F:\typoraImg\1583839222667.png)

#### **进程控制块**

![1583839249800](F:\typoraImg\1583839249800.png)

#### **进程的状态**

![1583839349137](F:\typoraImg\1583839349137.png)

#### 其他状态

创建（new）：已创建进程需要的PID，PCB，但未同意执行。

终止（terminated）：准备资源回收。

挂起（suspend）：不占用内存。进程映像交换到磁盘上。

![1583839547414](F:\typoraImg\1583839547414.png)

#### **进程队列**

![1583839668119](F:\typoraImg\1583839668119.png)

#### **进程控制**

有特定功能的原语完成：**创建原语（fork/exec）**，撤消原语，阻塞原语，唤醒原语，挂起原语，激活原语。

几个重要的进程控制操作

![1583839869707](F:\typoraImg\1583839869707.png)

#### **进程与程序的区别**

![1583849388018](F:\typoraImg\1583849388018.png)

#### **上下文**

![1583849662421](F:\typoraImg\1583849662421.png)

### 线程

![1583849831412](F:\typoraImg\1583849831412.png)

线程：进程中的一个运行实体，CPU的调度单位，有时将线程称为轻量级进程。

线程的实现：

#### **用户级线程（unix）**

![1583850488385](F:\typoraImg\1583850488385.png)

![1583850552430](F:\typoraImg\1583850552430.png)

![1583850632490](F:\typoraImg\1583850632490.png)

#### **核心级线程**

![1583850519197](F:\typoraImg\1583850519197.png)

**混合（用户核心结合）**

![1583850727684](F:\typoraImg\1583850727684.png)

#### **重点**

![1583850742398](F:\typoraImg\1583850742398.png)

