## Java的内存模型

Java内存模型即Java Memory Model，简称**JMM**。JMM定义了Java 虚拟机(JVM)在计算机内存(RAM)中的工作方式。JVM是整个计算机虚拟模型，所以**JMM是隶属于JVM**的。

如果我们要想深入了解Java并发编程，就要先理解好Java内存模型。**Java内存模型定义了多线程之间共享变量的可见性以及如何在需要的时候对共享变量进行同步**。原始的Java内存模型效率并不是很理想，因此Java1.5版本对其进行了重构，现在的Java8仍沿用了Java1.5的版本。

*** ** **java使用共享内存的方式来实线程之间的通信**，这种共享内存的模型就是java内存模型。共享内存这里指的是主内存（物理内存），每个线程都独有一个本地内存，**本地内存中存储了该线程以读/写共享变量的副本**。本地内存是JMM的一个抽象概念，并不真实存在。它涵盖了缓存，写缓冲区，寄存器以及其他的硬件和编译器优化。当线程要修改变量的时候，从主存读取，修改后再刷新到主存，整个流程即是修改变量的过程。
![1581681715124](F:\typoraImg\1581681715124.png)

此知识点涉及到**可见性**和**线程安全**的问题（volatile，synchronized	）